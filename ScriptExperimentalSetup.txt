#####################################################################################################################
output_dir="/home/felipe/Documentos/LungPortal/output/"
#####################################################################################################################
# CreateMetadataFromGDCFiles
source("/home/felipe/Documentos/Fiocruz/MultiOmicsFiocruzCancer/Pipeline_SquamousCellCarcinoma_LoadRPackages.R")

# A R scripts to create tables
source("/home/felipe/Documentos/Fiocruz/MultiOmicsFiocruzCancer/Pipeline_SquamousCellCarcinoma_CreateMetadataFromGDCFiles.R")

## A R scripts to load expression files
source("/home/felipe/Documentos/Fiocruz/MultiOmicsFiocruzCancer/Pipeline_SquamousCellCarcinoma_LoadExpressionData.R")

# rowMeans(unstranded_rpkm)>3 
source("/home/felipe/Documentos/Fiocruz/MultiOmicsFiocruzCancer/Pipeline_SquamousCellCarcinoma_RPKM_Normalization_V2.R")
#####################################################################################################################
# # Pipeline thresholds
trheshold_1<-c(3,5,10)            # Threshold RPKM
trheshold_2<-c(0.25,0.50,1.0)     # Threshold Tumor/Normal        
trheshold_3<-c(0.25,0.50,1.0)     # Threshold per stage
trheshold_4<-c(0.25,0.50,1.0)     # for correlation network

# For each threshold_rpkm
for (threshold_rpkm in trheshold_1)
{
	# For each threshold_rpkm
	for (threshold_tumor in trheshold_2)	
	{
		# For each threshold_stage
		for (threshold_stage in trheshold_3)
		{
			# For each threshold_cor
			for (threshold_cor in trheshold_4)
			{						
				# Create output folder name
				output_folder=paste(output_dir,"/trheshold1_",threshold_rpkm,"_trheshold2_",threshold_tumor,"_trheshold3_",threshold_stage,"_trheshold4_",threshold_cor,"/",sep="")
												
				# Remove and re-create folder
				system(paste("rm -r ",output_folder,sep=""))
				system(paste("mkdir ",output_folder,sep=""))
								
				## A R scripts for RPKM Normalization # Done
				# rowMeans(unstranded_rpkm)>3 
				source("/home/felipe/Documentos/Fiocruz/MultiOmicsFiocruzCancer/Pipeline_SquamousCellCarcinoma_LoadAllTables.R")

				## A R scripts to apply filters
				source("/home/felipe/Documentos/Fiocruz/MultiOmicsFiocruzCancer/Pipeline_SquamousCellCarcinoma_CreateMetadataPairedSamplesRPKM.R")

				## A R scripts to apply filters
				#source("/home/felipe/Documentos/Fiocruz/MultiOmicsFiocruzCancer/Pipeline_SquamousCellCarcinoma_Filters.R")
				source("/home/felipe/Documentos/Fiocruz/MultiOmicsFiocruzCancer/Pipeline_SquamousCellCarcinoma_Filters_V2.R")

				## A R scripts to DE per stage
				source("/home/felipe/Documentos/Fiocruz/MultiOmicsFiocruzCancer/Pipeline_SquamousCellCarcinoma_CreateDEGenesPerStageMeansFromPairedV2.R")

				## A R scripts to create veen driagam
				source("/home/felipe/Documentos/Fiocruz/MultiOmicsFiocruzCancer/Pipeline_SquamousCellCarcinoma_VeenDiagramsFromPairedUp.R")

				## A R scripts to calculate Calculate Shannon Entropy
				source("/home/felipe/Documentos/Fiocruz/MultiOmicsFiocruzCancer/Pipeline_SquamousCellCarcinoma_CalculateShannonEntropy.R")

				## A R scripts to calculate Calculate Shannon Entropy
				source("/home/felipe/Documentos/Fiocruz/MultiOmicsFiocruzCancer/Pipeline_SquamousCellCarcinoma_CalculateShannonEntropyFromPairedUp.R")																
			}
		}		
	}	
}

## A R scripts to plot cytoscape network analysis
#source("/home/felipe/Documentos/Fiocruz/MultiOmicsFiocruzCancer/Pipeline_SquamousCellCarcinoma_NetworkAnalysisPlot.R")

## A R scripts to plot cytoscape network analysis
#source("/home/felipe/Documentos/Fiocruz/MultiOmicsFiocruzCancer/Pipeline_SquamousCellCarcinoma_Citoscape_Networtks.R")
